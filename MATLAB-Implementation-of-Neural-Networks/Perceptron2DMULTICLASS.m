x1 = [[1;-2;2],[1;-3;2],[1;-2;1],[1;-1;1]];
x2 = [[1;2;-2],[1;3;-1],[1;1;-3],[1;2;-4]];
x3 = [[1;2;2],[1;3;2],[1;2;3],[1;3;3]];
x4 = [[1;-2;-2],[1;-3;-2],[1;-2;-1],[1;-1;-4]];
d1 = [1;0;0;0];
d2 = [0;1;0;0];
d3 = [0;0;1;0];
d4 = [0;0;0;1];
T = [x1,x2,x3,x4];
d = [[d1,d1,d1,d1],[d2,d2,d2,d2],[d3,d3,d3,d3],[d4,d4,d4,d4]];
N = length(T);
m = 2;
n = 4;
eta = 0.5;
N = length(T);
x = [-3:3];
w = rand(m+1,n);
c = [[0,1,0];[0,1,0];[0,1,0];[0,1,0];[0,0,1];[0,0,1];[0,0,1];[0,0,1];[0,0,0];[0,0,0];[0,0,0];[0,0,0];[1,0,0];[1,0,0];[1,0,0];[1,0,0]];
scatter([x1(2,:),x2(2,:),x3(2,:),x4(2,:)],[x1(3,:),x2(3,:),x3(3,:),x4(3,:)],50,c,'filled');
hold on;
plot(x,(-w(2,1)/w(3,1)).*x + (-w(1,1)/w(3,1)));
plot(x,(-w(2,2)/w(3,2)).*x + (-w(1,2)/w(3,2)));
plot(x,(-w(2,3)/w(3,3)).*x + (-w(1,3)/w(3,3)));
plot(x,(-w(2,4)/w(3,4)).*x + (-w(1,4)/w(3,4)));
hold off;
while 1
    s = w;
    for i = 1:N
        in = T(:,i);
        net = w.'*in;
        for j = 1:n
            if (net(j) >= 0)
                net(j) = 1;
            else
                net(j) = 0;
            end
            if (net(j) == d(j,i))
                w(:,j) = w(:,j);
            else
                if((d(j,i) - net(j)) >= 0)
                    w(:,j) = w(:,j) + eta.*in;
                else
                    w(:,j) = w(:,j) - eta.*in;
                end
            end
        end
        scatter([x1(2,:),x2(2,:),x3(2,:),x4(2,:)],[x1(3,:),x2(3,:),x3(3,:),x4(3,:)],50,c,'filled');
        hold on;
        plot(x,(-w(2,1)/w(3,1)).*x + (-w(1,1)/w(3,1)));
        plot(x,(-w(2,2)/w(3,2)).*x + (-w(1,2)/w(3,2)));
        plot(x,(-w(2,3)/w(3,3)).*x + (-w(1,3)/w(3,3)));
        plot(x,(-w(2,4)/w(3,4)).*x + (-w(1,4)/w(3,4)));
        hold off;
        pause(0.1);
    end
    if (s == w)
        disp ("THE NETWORK HAS LEARNED TO CLASSIFY THE GIVEN INPUTS!!");
        break;
    end
end